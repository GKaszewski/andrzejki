import { useState } from "react";

export interface WaxShape {
  path: string; // SVG Path d
  name: string;
  meaning: string;
}

const SHAPES: WaxShape[] = [
  {
    name: "Dom",
    meaning: "Bezpieczeństwo, stabilizacja i ciepło rodzinne ognisko.",
    path: "M128 16L16 112h24v128h64v-64h48v64h64V112h24L128 16z",
  },
  {
    name: "Serce",
    meaning: "Wielka namiętność lub odnalezienie bratniej duszy.",
    path: "M123.991 64.7711L95.0247 18.8673L74.3269 10.2096L54.4999 10.2096L36.717 18.8673L23.0221 37.3346C23.0221 37.3346 13.824 64.7711 13.824 64.7711L18.9341 127.056L49.1855 168.786L118.336 244.987C118.336 244.987 138.394 247.213 138.394 244.987L163.468 216.61L202.277 168.786L233.019 127.056L242.176 98.3731L242.176 59.1463L225.17 26.04C225.17 26.04 203.803 8.01126 202.277 10.2096L172.625 10.2096C172.625 10.2096 153.656 26.04 153.656 26.04L132.508 59.1463L123.991 64.7711Z",
  },
  {
    name: "Pieniądz",
    meaning:
      "Przypływ gotówki! Może premia, a może znajdziesz dychę na chodniku.",
    path: "M128 24C70.6 24 24 70.6 24 128s46.6 104 104 104 104-46.6 104-104S185.4 24 128 24zm12.8 156.8V192h-25.6v-11.2c-20.5-2.6-35.2-15.7-36.4-33.6h24.3c1.8 7.5 9.3 12.8 19.5 12.8 11.8 0 19.5-5.4 19.5-13.8 0-9-7.7-12.5-26.9-17-23.7-5.4-34.9-16.3-34.9-32.6 0-16.6 12.8-29.1 34.9-32V53.3h25.6v11.5c17.3 2.9 30.4 14.1 32.3 30.4h-24.3c-2.6-7-8.6-11.2-17-11.2-10.6 0-17 5.4-17 12.8 0 8.6 8 11.8 27.2 16.3 24.6 5.8 34.6 17.3 34.6 33.3 0 17.6-14.1 30.4-32.6 34.4z",
  },
  {
    name: "Chmura",
    meaning: "Bujasz w obłokach. Zejdź na ziemię, zanim wpadniesz w kałużę.",
    path: "M216.892 200.039L230.204 191.601L234.704 185.226L241.079 170.039C241.079 170.039 241.079 158.039 241.079 158.039L241.079 143.789L234.704 131.976L230.204 122L224.767 116.039L224.767 108.164L221.204 95.6012C221.204 95.6012 216.892 81.7262 216.892 81.7262L201.142 68.0387L186.329 63.3512L175.267 59.9762L168.704 59.9762L159.329 47.7887L146.579 40.8512L128.5 35L113.392 40.8512L99.1418 47.7887C99.1418 47.7887 92.3918 56.6012 92.2043 56.7887L87.3293 68.0387L83.7668 77.0387L69.5168 73.4762L48.3293 77.0387L34.2668 85.1012C34.2668 85.1012 20.5793 98.7887 20.5793 98.7887C20.5793 98.7887 14.5793 106.101 14.5793 108.164C14.5793 110.226 14.5793 131.976 14.5793 131.976L20.5793 149.789L34.2668 164.789C34.2668 164.789 43.8293 169.664 44.3918 170.039L58.2668 175.289L65.7668 175.289C65.7668 175.289 72.8918 184.851 72.8918 185.226C72.8918 185.601 83.7668 191.601 83.7668 191.601L99.1418 200.039L118.642 200.039L128.5 196.664L141.517 185.226L141.517 196.664L150.517 203.226L159.329 203.226L168.704 196.664L175.267 203.226L186.329 209L196.829 209L216.892 200.039Z",
  },
  {
    name: "Kot",
    meaning:
      "Niezależność, tajemniczość i intuicja. Czas zaufać swoim instynktom.",
    path: "M159.512 48.8156L169.271 54.7066L173.514 54.7066L190.062 48.8156L197.911 27.0444L203.639 37.2897C203.639 37.2897 202.791 50.6085 203.639 48.8156L212.55 60.5976L212.55 81.6004L208.094 100.81C208.094 100.81 212.55 116.946 212.55 116.946L208.094 133.155L203.639 149.163L203.639 159.889L220.438 179.098L238.338 204.712L233.697 212.556L224.15 204.712L215.399 193.506L193.521 179.098L180.792 170.134L173.514 173.976L169.271 193.506L169.271 212.556L173.514 218.639L180.792 218.639L184.903 227.283L167.814 230.008L159.512 218.639L152.07 171.772L150.144 159.889L122.342 159.889L112.544 176.524L105.677 191.285L107.77 204.712L119.159 212.556C119.159 212.556 130.883 214.641 131.135 214.641C131.386 214.641 132.977 223.032 132.977 223.133L119.159 225.56L102.327 218.639L86.8342 204.712L84.3219 173.976C84.3219 173.976 60.7062 185.421 60.2875 185.725L33.8245 196.846L29.1349 218.639L33.8245 218.639L38.8491 227.283L35.6669 232.334C35.6669 232.334 23.5241 232.334 23.5241 232.334L17.662 218.639L17.662 179.098L33.8245 162.976L44.7949 149.163L44.7949 133.155L48.8984 119.299L48.8984 110.301L29.1349 88.2601C29.1349 88.2601 23.5241 52.0647 23.5241 52.0647C23.5241 52.0647 23.5241 33.4952 23.5241 33.4952C23.5241 33.4952 35.8809 16.7119 35.6669 15.903L51.6991 6.60138L72.2163 11.9599L79.4183 20.756L77.2409 28.7433L68.6153 27.0444L58.7336 22.4748L46.9258 27.0444C46.9258 27.0444 38.8491 44.1111 38.8491 44.1111L40.2263 71.4093L46.9258 89.9114L60.2875 100.81L79.4183 93.9556L112.544 77.9811L138.039 76.3634L150.144 83.5419L159.512 88.2601L169.271 81.6004L157.802 54.7066L159.512 48.8156Z",
  },
  {
    name: "Kwiat",
    meaning:
      "Rozkwit uczuć lub nowa przyjaźń. Zadbaj o relacje, a wydadzą owoce.",
    path: "M152.193 125.815L163.78 125.815L176.061 121.602L176.061 110.436L163.78 101.798L176.061 94.4238L181.855 87.4713L176.061 78.2013L167.951 73.5663L163.78 73.5663L161.061 70.6529L166.184 64.4156L167.951 55.8497L167.951 48.6976L161.061 44.7889L148.896 44.7889L142.95 48.6976L142.95 31.7322L136.181 26.2433L126.576 26.2433L120.997 26.2433L115.234 36.8051L112.124 36.8051L112.124 31.7322L105.08 20.9208L93.7379 20.9208L85.1394 24.4969L81.8464 31.7322L81.8464 36.8051L76.907 36.8051L70.9612 31.7322C70.9612 31.7322 59.8017 32.0648 59.5272 31.7322L53.5815 36.8051L51.4777 42.9593L51.4777 50.943C51.4777 50.943 53.5815 54.2696 53.5815 54.2696L38.0093 55.8497L30.3622 62.4317C30.3622 62.4317 30.3622 70.6529 30.3622 70.6529C30.3622 70.6529 35.1417 79.2757 35.4893 78.2013L41.3983 81.2351L30.3622 87.4713L24.3661 94.4238C24.3661 94.4238 23.2365 102.451 24.3661 101.798C25.4959 101.145 30.3622 106.122 30.3622 106.122C30.3622 106.122 37.8354 109.535 38.0093 110.436L44.266 110.436L38.0093 121.602L38.0093 129.587L41.3983 135.591L51.4777 138.356L62.6885 135.591C62.6885 135.591 62.6885 142.623 62.6885 142.623L64.5134 150.128L69.0321 154.078L81.8464 155.659L91.5389 148.39L93.7379 142.623C93.7379 142.623 95.7969 154.078 95.7969 154.078C95.7969 154.078 108.397 160.32 108.397 160.32L115.234 160.32L120.997 154.078L124.126 148.39L120.997 138.356L126.576 144.44C126.576 144.44 138.725 150.128 138.725 150.128L148.896 150.128C148.896 150.128 154.193 138.356 154.193 138.356L158.711 142.623C158.711 142.623 163.026 163.164 163.78 163.48C164.534 163.796 165.922 173.119 166.184 173.277L163.78 183.099C163.78 183.099 161.061 199.086 161.061 199.086L152.193 195.926L132.53 185.237C132.53 185.237 91.5389 178.73 91.5389 178.73C91.5389 178.73 91.5389 187.746 91.5389 187.746C91.5389 187.746 105.08 214.143 105.08 214.143C105.08 214.143 120.997 222.695 120.997 222.695L148.896 235.079L166.184 235.079C166.184 235.079 176.061 233.592 176.061 233.592L199.421 217.605C199.421 217.605 222.219 195.39 222.833 193.996L232.136 176.615C232.136 176.615 232.136 160.32 232.136 160.32L228.864 135.591L226.002 129.587C226.002 129.587 218.845 135.186 218.641 135.591C218.437 135.997 180.441 157.189 181.855 157.468C183.268 157.746 172.022 170.201 171.409 170.294L169.484 163.48L163.78 144.44L158.711 135.591L152.193 125.815Z",
  },
  {
    name: "Anioł",
    meaning: "Zwiastuje dobrą wiadomość i opiekę sił wyższych.",
    path: "M125.507 53.341L115.238 57.264L112.238 65.4564C112.238 65.4564 112.238 74.1102 112.238 74.1102C112.238 74.1102 115.238 82.9948 115.238 82.9948L122.738 86.9179L134.622 86.9179L142.469 82.9948C142.469 82.9948 145.122 76.5333 145.122 76.5333L145.122 65.4564L142.469 57.264L134.622 53.341L125.507 53.341ZM138.274 91.3304L142.469 95.8304L150.327 86.9179L154.774 78.5269C154.774 78.5269 157.452 72.5269 157.452 72.5269L162.863 69.0983C162.863 69.0983 178.501 67.5646 178.501 67.5646L189.601 62.9146L202.276 53.341L210.526 42.0646L212.401 60.9646L207.076 71.0896C207.076 71.0896 199.201 80.1646 199.201 80.1646L195.601 82.9948L202.276 85.4896L207.076 85.4896L202.276 91.3304C202.276 91.3304 193.576 94.5646 193.576 94.5646L188.326 94.5646L188.326 97.7146L193.576 99.2896C193.576 99.2896 193.576 100.865 193.576 100.865L188.326 104.015L182.851 106.79L174.676 104.015L178.501 111.44L174.676 115.6L169.708 115.6C169.708 115.6 158.458 109.45 159.433 112.9L162.863 121.675L154.774 121.675L150.327 114.325L154.774 131.875L164.833 156.25L174.676 167.95L180.283 170.425L170.983 178.975L150.327 189.637L112.238 191.962L99.2741 186.337L76.9991 170.425L80.9741 167.95C80.9741 167.95 94.3241 148.912 94.3241 148.912L103.324 128C103.324 128 103.324 118.987 103.324 118.987L96.4241 121.675L92.0741 121.675L90.4241 118.987L94.3241 115.6L88.4741 117.562L78.4241 115.6L74.6741 111.44C74.6741 111.44 78.4241 108.712 78.4241 108.712L69.1241 106.79L60.4991 99.2896L60.4991 97.7146L65.1491 95.8304L60.4991 94.5646L52.3241 89.1367L49.5491 85.4896L50.8991 82.9948L55.8491 82.9948L52.3241 76.5333L45.2741 65.4564L45.2741 40.2367L58.4741 55.3117L78.4241 65.4564C78.4241 65.4564 93.4991 66.6925 94.3241 67.5646L99.2741 72.5269L108.199 89.1367L112.238 94.5646L112.238 94.5646L118.484 90.5986L138.274 91.3304L138.274 91.3304Z"
},
  {
    name: "But",
    meaning: "W nadchodzącym roku bądź gotowa na wiele zmian i podróży.",
    path: "M23.0636 85.8896L40.5182 93.6623L56.3364 98.5714L70.1091 98.5714L81.1546 93.6623L93.5636 85.8896L99.7 77.0259L106.382 69.2532L114.018 66.6623L121.655 72.1169L133.382 83.2987L173.609 106.208L209.882 117.799L235.245 124.344C235.245 124.344 243.291 124.344 243.291 124.344L251.336 132.662C251.336 132.662 256 145.208 256 145.208C256 145.208 256 150.526 256 150.526L251.336 157.071L243.291 166.208L217.927 172.89L173.609 176.162L139.109 176.162L121.655 172.89L106.382 172.89C106.382 172.89 81.1546 172.89 81.1546 172.89C81.1546 172.89 51.5636 174.39 51.1545 172.89L40.5182 172.89L25.6545 172.89L15.8364 172.89C15.8364 172.89 3.97273 162.39 3.97273 162.39L0 154.9L0 128L9.15454 111.662L9.15454 101.026L12.9727 93.6623L23.0636 85.8896Z"
    },
  {
    name: "Jajko",
    meaning: "Przed Tobą duży sukces i nowe początki.",
    path: "M128 0C74.6 0 32 64.5 32 128c0 70.7 43 128 96 128s96-57.3 96-128C224 64.5 181.4 0 128 0z",
  },
  {
    name: "Słońce",
    meaning:
      "Ten rok będzie sprzyjał Twoim pomysłom. Czeka Cię energia i radość.",
    path: "M128 64c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64zm0 112c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm104-48c0-57.4-46.6-104-104-104S24 70.6 24 128s46.6 104 104 104 104-46.6 104-104zM0 128h16c8.8 0 16-7.2 16-16s-7.2-16-16-16H0c-8.8 0-16 7.2-16 16s7.2 16 16 16zm240 0h16c8.8 0 16-7.2 16-16s-7.2-16-16-16h-16c-8.8 0-16 7.2-16 16s7.2 16 16 16zM128 0v16c0 8.8 7.2 16 16 16s16-7.2 16-16V0c0-8.8-7.2-16-16-16s-16 7.2-16 16zm0 224v16c0 8.8 7.2 16 16 16s16-7.2 16-16v-16c0-8.8-7.2-16-16-16s-16 7.2-16 16z",
  },
  {
    name: "Pierścień",
    meaning: "To znak rychłych zaręczyn, małżeństwa lub trwałego związku.",
    path: "M128 48c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm0 176c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0-224L104 24l24 24 24-24-24-24z",
  },
  {
    name: "Ryba",
    meaning: "Zwiastuje nowy rok pełen obfitości i brak większych trosk.",
    path: "M235 110.4c-36.8-12.4-59.4-10.2-91.8 9.2-4.2-41.9-45.6-62.8-89.6-48.2-18.4 6.1-33 18.6-40.4 34.5-3.3-1.3-6.8-2-10.2-2-16 0-29 13-29 29s13 29 29 29c4.7 0 9.3-1.3 13.4-3.8 9 18.7 26.4 32.7 47.3 37.9 46.3 11.6 87.9-15.1 89.4-59.2 32.8 18.2 54.4 19.9 90 9.2 9.6-2.9 14.9-13 12-22.6-2.9-9.6-13-14.9-22.6-12z",
  },
  {
    name: "Gwiazda",
    meaning: "Będziesz błyszczeć przez cały następny rok. Sukces towarzyski!",
    path: "M128 184l-64 48 24-80-64-48 80 0 24-80 24 80 80 0-64 48 24 80z",
  },
  {
    name: "Jabłko",
    meaning: "Symbol spełnienia w uczuciach i zakazanych przyjemności.",
    path: "M189.1 65.4c-18.5 0-35.8 10.6-48.4 27.1-4.6 6.1-14.2 6.1-18.8 0-12.6-16.5-29.9-27.1-48.4-27.1C34.9 65.4 4.6 96.5 4.6 135.7c0 56.8 45.1 102.4 100.9 103.9 7.3.2 14.6-2 20.5-6.3 1.7-1.2 3.7-1.2 5.4 0 5.9 4.2 13.1 6.5 20.5 6.3 55.8-1.5 100.9-47.1 100.9-103.9 0-39.2-30.3-70.3-63.7-70.3zM136.3 0c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8s-8-3.6-8-8V8c0-4.4 3.6-8 8-8z",
  },
  {
    name: "Maska",
    meaning:
      "Przestań udawać oraz chować prawdziwe uczucia, powiedz wreszcie prawdę.",
    path: "M246.4 114.7c-11.2-33.2-39-59.5-73.5-69.5C162.1 14.1 128 32 128 32S93.9 14.1 83.1 45.2c-34.5 10-62.3 36.3-73.5 69.5C6.1 125.1 4 136.4 4 148c0 59.6 55.5 108 124 108s124-48.4 124-108c0-11.6-2.1-22.9-5.6-33.3zM64 160c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z",
  },
  {
    name: "Góra",
    meaning:
      "Zwiastuje trudności na drodze do celu, ale widok ze szczytu będzie piękny.",
    path: "M128 32L0 224h256L128 32zm-32 96l32-48 32 48-32 48-32-48z",
  },
  {
    name: "Książka",
    meaning: "Wiedza i nauka. Może czas zapisać się na ten kurs?",
    path: "M232 32H24C10.7 32 0 42.7 0 56v144c0 13.3 10.7 24 24 24h208c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24zM120 192H32V64h88v128zm104 0h-88V64h88v128z",
  },
  {
    name: "Róża",
    meaning:
      "Romantyczne uczucia, sentymentalna natura i marzenia o wielkiej miłości.",
    path: "M128 16C66.1 16 16 66.1 16 128s50.1 112 112 112 112-50.1 112-112S189.9 16 128 16zm0 192c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm-16-80c0-8.8 7.2-16 16-16s16 7.2 16 16-7.2 16-16 16-16-7.2-16-16z",
  },
];

export const useWaxPouring = () => {
  const [shape, setShape] = useState<WaxShape | null>(null);
  const [isPouring, setIsPouring] = useState(false);

  const pourWax = () => {
    if (isPouring) return;

    setIsPouring(true);
    setShape(null);

    setTimeout(() => {
      let randomShape;
      do {
        randomShape = SHAPES[Math.floor(Math.random() * SHAPES.length)];
      } while (shape && randomShape.name === shape.name && SHAPES.length > 1);
      setShape(randomShape);
      setIsPouring(false);
    }, 3000);
  };

  const reset = () => {
    setShape(null);
  };

  return {
    shape,
    isPouring,
    pourWax,
    reset,
  };
};
